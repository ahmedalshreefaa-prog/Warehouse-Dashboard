<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive Platform | AHMED SAMIR</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --bg: #010101; --card: #090909; --gold: #c6a664; --copper: #8e4a2d; --text: #e0e0e0; --border: #1a1a1a; --danger: #b71c1c; --success: #1b5e20; }
        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, sans-serif; }
        body { background: var(--bg); color: var(--text); margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        .sidebar { width: 280px; background: #050505; border-right: 1px solid var(--border); display: flex; flex-direction: column; transition: 0.3s; z-index: 1000; }
        .sidebar-header { padding: 30px 20px; text-align: center; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: center; background: transparent; }
        .sidebar-header img { max-height: 80px; max-width: 100%; object-fit: contain; filter: drop-shadow(0 0 5px rgba(198, 166, 100, 0.2)); }

        .nav-item { padding: 14px 20px; cursor: pointer; color: #666; display: flex; align-items: center; gap: 10px; font-size: 0.85rem; border-bottom: 1px solid #111; transition: 0.3s; }
        .nav-item:hover, .nav-item.active { background: #111; color: var(--gold); border-left: 4px solid var(--gold); }

        .main-view { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; width: 100%; }
        .top-bar { padding: 15px 20px; background: #080808; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .content-area { flex: 1; overflow-y: auto; padding: 20px; position: relative; }
        
        .page { display: none; width: 100%; animation: fadeIn 0.4s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .last-update { font-size: 0.75rem; font-weight: 600; color: var(--gold); background: #121212; padding: 6px 14px; border-radius: 6px; border: 1px solid #222; display: flex; align-items: center; gap: 8px; letter-spacing: 0.5px; }

        .kpi-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 20px; }
        .kpi-card { background: var(--card); padding: 15px; border-radius: 8px; border: 1px solid var(--border); border-top: 3px solid var(--gold); }
        .kpi-card h2 { margin: 8px 0 0; font-size: 1.4rem; color: #fff; }

        .grid-layout { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 20px; margin-bottom: 20px; }
        .chart-box { background: var(--card); padding: 15px; border-radius: 12px; border: 1px solid var(--border); height: 350px; width: 100%; position: relative; }
        
        .info-panel { background: rgba(198, 166, 100, 0.03); border-left: 4px solid var(--gold); padding: 20px; border-radius: 4px; line-height: 1.8; margin-bottom: 15px; }
        .info-panel h3 { color: var(--gold); margin-top: 0; border-bottom: 1px solid #222; padding-bottom: 8px; margin-bottom: 12px; font-size: 1.1rem; }

        .alert-red { background: rgba(183, 28, 28, 0.05); border: 1px solid var(--danger); padding: 18px; border-radius: 8px; margin-top: 10px; line-height: 1.8; border-left: 4px solid var(--danger); }
        .vision-green { background: rgba(27, 94, 32, 0.05); border: 1px solid var(--success); padding: 18px; border-radius: 8px; margin-top: 10px; line-height: 1.8; border-left: 4px solid var(--gold); }
        
        .btn-lang { background: var(--gold); color: #000; padding: 6px 14px; border-radius: 4px; font-weight: bold; cursor: pointer; border: none; font-size: 0.8rem; }
        .menu-toggle { display: none; background: none; border: none; color: var(--gold); font-size: 1.5rem; cursor: pointer; }

        .dev-container { display: flex; flex-direction: column; gap: 15px; }
        .dev-item { background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden; transition: 0.3s; }
        .dev-header { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .dev-header:hover { background: #111; }
        .dev-title-area { display: flex; align-items: center; gap: 15px; }
        .dev-icon { color: var(--gold); transition: 0.3s; }
        .dev-content { padding: 0 20px; max-height: 0; overflow: hidden; transition: 0.4s ease-out; color: #bbb; line-height: 1.8; background: #050505; }
        .dev-item.active .dev-content { padding: 20px; max-height: 500px; border-top: 1px solid var(--border); }
        .dev-item.active .dev-icon { transform: rotate(180deg); }
        
        .status-badge { padding: 4px 12px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; text-transform: uppercase; }
        .status-discussion { background: rgba(217, 119, 6, 0.1); color: #f59e0b; border: 1px solid rgba(217, 119, 6, 0.3); }
        .status-done { background: rgba(27, 94, 32, 0.1); color: #4caf50; border: 1px solid rgba(27, 94, 32, 0.3); }

        @media (max-width: 768px) {
            .sidebar { position: absolute; left: -280px; height: 100%; }
            .sidebar.open { left: 0; }
            .grid-layout { grid-template-columns: 1fr; }
            .menu-toggle { display: block; }
            body.ar .sidebar { left: auto; right: -280px; }
            body.ar .sidebar.open { right: 0; }
        }

        body.ar { direction: rtl; }
        body.ar .sidebar { border-right: none; border-left: 1px solid var(--border); }
        body.ar .nav-item:hover, body.ar .nav-item.active { border-left: none; border-right: 4px solid var(--gold); }
        body.ar .info-panel, body.ar .alert-red, body.ar .vision-green { border-left: none; border-right: 4px solid var(--gold); }

        .footer-sig { margin-top: 30px; padding: 20px; border-top: 1px solid var(--border); text-align: right; }
        .sig-box { border-top: 1px solid var(--gold); display: inline-block; padding-top: 5px; text-align: center; min-width: 150px; font-size: 0.8rem; }
    </style>
</head>
<body id="master" class="en">

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="logo.png" alt="Logo" onerror="this.src='LOGO.png'">
        </div>
        <div class="nav-menu">
            <div class="nav-item active" onclick="nav('p1', this)"><i class="fas fa-eye"></i> <span id="m1">Overview</span></div>
            <div class="nav-item" onclick="nav('p2', this)"><i class="fas fa-warehouse"></i> <span id="m2">Capacity</span></div>
            <div class="nav-item" onclick="nav('p3', this)"><i class="fas fa-users-cog"></i> <span id="m3">Performance</span></div>
            <div class="nav-item" onclick="nav('p4', this)"><i class="fas fa-calendar-alt"></i> <span id="m4">Vacations</span></div>
            <div class="nav-item" onclick="nav('p5', this)"><i class="fas fa-shield-alt"></i> <span id="m5">Governance</span></div>
            <div class="nav-item" onclick="nav('p6', this)"><i class="fas fa-user-friends"></i> <span id="m6">Customers</span></div>
            <div class="nav-item" onclick="nav('p7', this)"><i class="fas fa-lightbulb"></i> <span id="m7">Development</span></div>
            <div class="nav-item" onclick="nav('p8', this)"><i class="fas fa-cube"></i> <span id="m8">3PL Analysis</span></div>
        </div>
    </div>

    <div class="main-view">
        <div class="top-bar">
            <div style="display:flex; align-items:center; gap:15px;">
                <button class="menu-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>
                <h2 id="u-title" style="margin:0;">Executive Platform</h2>
            </div>
            <div style="display:flex; align-items:center; gap:10px;">
                <div class="last-update">
                    <i class="fas fa-calendar-day" style="opacity: 0.7;"></i> 
                    <span id="lbl-up" style="opacity: 0.8; font-weight: normal;">Last Update:</span> 
                    <span>2026-02-28</span>
                </div>
                <button class="btn-lang" onclick="swap()">العربية</button>
            </div>
        </div>

        <div class="content-area">
            <div id="p1" class="page active">
                <div class="kpi-row">
                    <div class="kpi-card"><small id="k1">Outbound Qty</small><h2>716,757</h2></div>
                    <div class="kpi-card"><small id="k2">Return Qty</small><h2 style="color:var(--danger)">6,218</h2></div>
                    <div class="kpi-card"><small id="k3">Total Mass</small><h2>722,975</h2></div>
                    <div class="kpi-card"><small id="k4">Operating Efficiency</small><h2>99.1%</h2></div>
                </div>
                <div class="grid-layout">
                    <div class="chart-box"><canvas id="c1"></canvas></div>
                    <div class="info-panel"><h3 id="h1">General Mass Vision</h3><p id="ap1"></p></div>
                </div>
            </div>

            <div id="p2" class="page">
                <div class="kpi-row">
                    <div class="kpi-card"><small id="k5">Total Capacity</small><h2>440 PP</h2></div>
                    <div class="kpi-card"><small id="k6">Occupied</small><h2>172 PP</h2></div>
                    <div class="kpi-card"><small id="k7">Available</small><h2 style="color:var(--gold)">268 PP</h2></div>
                </div>
                <div class="grid-layout">
                    <div class="chart-box"><canvas id="c_detail"></canvas></div>
                    <div class="chart-box"><canvas id="c_total"></canvas></div>
                </div>
                <div class="info-panel"><h3 id="h2">Detailed Storage Analysis</h3><p id="ap2"></p></div>
            </div>

            <div id="p3" class="page">
                <div class="grid-layout">
                    <div class="chart-box"><canvas id="c3"></canvas></div>
                    <div class="chart-box"><canvas id="c4"></canvas></div>
                </div>
                <div class="alert-red"><h3 id="at3-r">Alert: Critical Overload</h3><p id="ap3-r"></p></div>
                <div class="vision-green"><h3 id="at3-v">Reform Vision</h3><p id="ap3-v"></p></div>
            </div>

            <div id="p4" class="page">
                <div class="grid-layout">
                    <div class="chart-box"><canvas id="cvac"></canvas></div>
                    <div class="info-panel"><h3 id="h4">Vacation Balance Analysis</h3><p id="ap4"></p></div>
                </div>
            </div>

            <div id="p5" class="page">
                <div class="dev-container">
                    <div class="dev-item"><div class="dev-header" onclick="toggleAccordion(this)"><div class="dev-title-area"><i class="fas fa-chevron-down dev-icon"></i><h3 id="h5-1" style="margin:0; font-size:1rem;">Return Innovation</h3></div><span class="status-badge status-done" id="st-gov-1"></span></div><div class="dev-content"><p id="ap5-1"></p></div></div>
                    <div class="dev-item"><div class="dev-header" onclick="toggleAccordion(this)"><div class="dev-title-area"><i class="fas fa-chevron-down dev-icon"></i><h3 id="h5-2" style="margin:0; font-size:1rem;">A-Z Customer Challenge</h3></div><span class="status-badge status-done" id="st-gov-2"></span></div><div class="dev-content"><p id="ap5-2"></p></div></div>
                    <div class="dev-item"><div class="dev-header" onclick="toggleAccordion(this)"><div class="dev-title-area"><i class="fas fa-chevron-down dev-icon"></i><h3 id="h5-3" style="margin:0; font-size:1rem;">Load Balancing Justice</h3></div><span class="status-badge status-done" id="st-gov-3"></span></div><div class="dev-content"><p id="ap5-3"></p></div></div>
                    <div class="dev-item"><div class="dev-header" onclick="toggleAccordion(this)"><div class="dev-title-area"><i class="fas fa-chevron-down dev-icon"></i><h3 id="h5-4" style="margin:0; font-size:1rem;">Pending To-Bill Orders</h3></div><span class="status-badge status-done" id="st-gov-4"></span></div><div class="dev-content"><p id="ap5-4"></p></div></div>
                </div>
            </div>

            <div id="p6" class="page">
                <div class="chart-box" style="height:450px; margin-bottom: 20px;"><canvas id="ccust"></canvas></div>
                <div class="info-panel"><h3 id="h6">Strategic Customer Analysis</h3><p id="ap6"></p></div>
            </div>

            <div id="p7" class="page">
                <div class="dev-container">
                    <div class="dev-item"><div class="dev-header" onclick="toggleAccordion(this)"><div class="dev-title-area"><i class="fas fa-chevron-down dev-icon"></i><h3 id="h7-1" style="margin:0; font-size:1rem;">Batch Governance</h3></div><span class="status-badge status-discussion" id="st-1"></span></div><div class="dev-content"><p id="ap7-1"></p></div></div>
                    <div class="dev-item"><div class="dev-header" onclick="toggleAccordion(this)"><div class="dev-title-area"><i class="fas fa-chevron-down dev-icon"></i><h3 id="h7-2" style="margin:0; font-size:1rem;">Smart Fleet License System</h3></div><span class="status-badge status-discussion" id="st-2"></span></div><div class="dev-content"><p id="ap7-2"></p></div></div>
                </div>
            </div>

            <div id="p8" class="page">
                <div class="kpi-row">
                    <div class="kpi-card"><small id="k8-1">Storage Revenue</small><h2>48,300.0</h2></div>
                    <div class="kpi-card"><small id="k8-2">Activity Revenue</small><h2>35,888.5</h2></div>
                    <div class="kpi-card"><small id="k8-3">Net Profit</small><h2 style="color:var(--gold)">84,188.5</h2></div>
                    <div class="kpi-card"><small id="k8-4">Peak Cap (Oct)</small><h2>9 PP</h2></div>
                </div>
                <div class="grid-layout">
                    <div class="chart-box"><canvas id="c3pl_pp"></canvas></div>
                    <div class="chart-box"><canvas id="c3pl_rev"></canvas></div>
                </div>
                <div class="info-panel"><h3 id="h8-1">Pallet Position & Rate Analysis</h3><p id="ap8-1"></p></div>
                <div class="vision-green"><h3 id="h8-2">Strategic Volume Trend Analysis</h3><p id="ap8-2"></p></div>
            </div>

            <div class="footer-sig">
                <div class="sig-box"><b>AHMED SAMIR</b><br><small>WAREHOUSE MANAGER</small></div>
            </div>
        </div>
    </div>

    <script>
        let curr = 'en';
        const lexicon = {
            ar: {
                t: "المنصة التنفيذية", up: "آخر تحديث:", status: "قيد المناقشة", done: "تم التنفيذ",
                m: ["نظرة عامة", "سعة المستودع", "أداء الفريق", "إدارة الإجازات", "تحديات الحوكمة", "تحليل العملاء", "الاقتراحات والتطوير", "تحليل 3PL"],
                k: ["قطع الصادر", "قطع المرتجع", "إجمالي الكتلة", "كفاءة التشغيل", "المساحة الكلية", "المشغولة", "الشاغرة", "أرباح التخزين", "أرباح الأنشطة", "صافي الربح", "أقصى سعة"],
                h: ["الرؤية العامة للكتلة", "تحليل سعة التخزين التفصيلي", "إنذار: حمل زائد", "الرؤية الإصلاحية", "تحليل الإجازات", "حل معضلة المرتجعات", "تحدي عميل إي زد", "عدالة توزيع الأحمال", "تحليل العملاء الاستراتيجي", "تطوير حوكمة الباتش", "نظام إدارة رخص الأسطول", "معضلة الأوامر العالقة", "تحليل مساحة وتكلفة البالتة", "تحليل نمط تناقص المخزون"],
                p: [
                    "التحليل سطر بسطر يظهر أن 99.1% من طاقتنا موجهة للصادر...",
                    "بناءً على الجرد الأخير، السعة الإجمالية هي 440 PP...",
                    "أحمد يوسف يتحمل 59.2% من الإنتاجية الكلية...",
                    "خطة توازن القوى عبر نقل 20% من عبء الوارد...",
                    "توزيع الإجازات متوازن حالياً...",
                    "استخدام خاصية Set Source Warehouse للمرتجع...",
                    "طباعة قائمة البنود القابلة للاسترجاع حصرياً...",
                    "نظام عادل لرفع الروح المعنوية للفريق...",
                    "تتصدر فارما أوفر سيز قائمة العملاء...",
                    "تفعيل خاصية Allow Batch Number...",
                    "إدارة رخص السيارات عبر الإشعارات...",
                    "ترحيل الأوامر المكتملة لضمان دقة الجرد...",
                    "تتبع دقيق لتحولات التخزين: بدأ العميل بـ 3 بالتات بسعر 450 جنيه، ووصل للذروة بـ 9 بالتات في أكتوبر. في يناير تم رفع السعر لـ 600 جنيه للبالتة الواحدة بنجاح، مما حافظ على استدامة الأرباح الإجمالية (84,188.5 EGP) رغم تغير عدد المواقع المشغولة.",
                    "التحليل الرقمي للفترة الأخيرة يظهر بوضوح أن العميل يتجه نحو 'تصفية المخزون' تدريجياً؛ حيث انخفض العدد من 9 بالتات في أكتوبر إلى 6 بالتات في فبراير. هذا النمط يؤكد تحول العميل من التخزين طويل الأمد إلى سرعة التدوير، وهو ما نلاحظه من أن أرباح الأنشطة (35,888.5 EGP) أصبحت تشكل جزءاً جوهرياً من الدخل بجانب التخزين (48,300 EGP)."
                ],
                l: { pp: "عدد البالتات", rev: "الربح الصافي", out: "صادر", ret: "مرتجع", used: "مشغول", free: "شاغر", qty: "الكمية", st: "تخزين", act: "نشاط" }
            },
            en: {
                t: "Executive Platform", up: "Last Update:", status: "Under Discussion", done: "Implemented",
                m: ["Overview", "Capacity", "Performance", "Vacations", "Governance", "Customers", "Development", "3PL Analysis"],
                k: ["Outbound Qty", "Return Qty", "Total Mass", "Efficiency", "Total Cap", "Used", "Free", "Storage Profit", "Activity Profit", "Net Profit", "Peak Capacity"],
                h: ["General Mass Vision", "Detailed Storage Analysis", "Alert: Critical Overload", "Reform Vision", "Vacation Balance Analysis", "Return Innovation", "A-Z Customer Challenge", "Load Balancing Justice", "Strategic Customer Analysis", "Batch Governance", "Smart Fleet License System", "Pending To-Bill Orders", "Pallet Position & Rate Analysis", "Decreasing Volume Trend Analysis"],
                p: [
                    "Analysis shows 99.1% effort on Outbound...",
                    "Total capacity stands at 440 PP...",
                    "Ahmed Youssef carries 59.2% of total productivity...",
                    "Initiated a balance plan...",
                    "Vacation distribution is balanced...",
                    "Innovation: Set Source Warehouse...",
                    "Resolution: Return-Allowed List...",
                    "Fair system boosted team morale...",
                    "Pharma Overseas leads as highest outbound...",
                    "Standardizing batch processing...",
                    "Fleet module with auto-notifications...",
                    "Enforce immediate status updates...",
                    "Detailed tracking: Started with 3 PP at 450 EGP, peaked at 9 PP in October. In January, the rate was successfully increased to 600 EGP per pallet, sustaining a net profit of 84,188.5 EGP despite shifts in occupied positions.",
                    "Digital analysis shows the client is 'liquidating inventory' gradually; positions dropped from 9 PP in October to 6 PP in February. This confirms a shift from long-term storage to fast-turnover, where activity profits (35,888.5 EGP) are a core driver alongside storage (48,300 EGP)."
                ],
                l: { pp: "Pallet Count", rev: "Net Profit", out: "Outbound", ret: "Return", used: "Used", free: "Free", qty: "Qty", st: "Storage", act: "Activity" }
            }
        };

        let charts = {};

        function drawAll(L) {
            Object.values(charts).forEach(c => { if(c) c.destroy(); });
            
            // RESTORED ORIGINAL CHARTS
            charts.c1 = new Chart(document.getElementById('c1'), { type: 'bar', data: { labels: L==='ar'?['صادر','مرتجع']:['Out','Ret'], datasets: [{ label: 'Qty', data: [716757, 6218], backgroundColor: ['#1b5e20', '#b71c1c'] }] }, options: { responsive: true, maintainAspectRatio: false } });
            charts.c_detail = new Chart(document.getElementById('c_detail'), { type: 'bar', data: { labels: L==='ar'?['روماتريال','فينش جود','دامدج']:['Raw Mat','Finished','Damage'], datasets: [{ label: lexicon[L].l.used, data: [98, 53, 21], backgroundColor: '#c6a664' }, { label: lexicon[L].l.free, data: [46, 163, 59], backgroundColor: '#8e4a2d' }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { stacked: true } } } });
            charts.c_total = new Chart(document.getElementById('c_total'), { type: 'doughnut', data: { labels: [lexicon[L].l.used, lexicon[L].l.free], datasets: [{ data: [172, 268], backgroundColor: ['#c6a664', '#8e4a2d'] }] }, options: { responsive: true, maintainAspectRatio: false } });
            charts.c3 = new Chart(document.getElementById('c3'), { type: 'bar', data: { labels: ['A.Youssef', 'Ayman', 'Salah'], datasets: [{ label: 'Inbound', data: [652175, 95639, 0], backgroundColor: '#c6a664' }, { label: 'Outbound', data: [210616, 238962, 260000], backgroundColor: '#8e7340' }] }, options: { responsive: true, maintainAspectRatio: false } });
            charts.c4 = new Chart(document.getElementById('c4'), { type: 'bar', data: { labels: ['Shabban', 'Tarek', 'Salah'], datasets: [{ label: 'Qty', data: [543290, 500365, 413737], backgroundColor: '#c6a664' }] }, options: { responsive: true, maintainAspectRatio: false } });
            charts.cvac = new Chart(document.getElementById('cvac'), { type: 'bar', data: { labels: ['A.Youssef', 'Ayman', 'Tarek', 'Salah', 'Shabban'], datasets: [{ label: 'Days', data: [6, 2, 5, 3, 4], backgroundColor: '#c6a664' }] }, options: { responsive: true, maintainAspectRatio: false } });
            charts.ccust = new Chart(document.getElementById('ccust'), { type: 'bar', data: { labels: ['Pharma Overseas', 'Ibn Sina', 'Al-Howeidy', 'Egyptian Co', 'A-Z'], datasets: [ { label: lexicon[L].l.out, data: [392556, 149945, 100000, 53636, 20600], backgroundColor: '#c6a664' }, { label: lexicon[L].l.ret, data: [2704, 2924, 0, 331, 259], backgroundColor: '#b71c1c' } ] }, options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y' } });

            // NEW ADDED CHARTS FOR MTS-MED
            charts.c3pl_pp = new Chart(document.getElementById('c3pl_pp'), { 
                type: 'line', data: { labels: ['Aug','Sep','Oct','Nov','Dec','Jan','Feb'], datasets: [{ label: lexicon[L].l.pp, data: [3, 8, 9, 7, 8, 8, 6], borderColor: '#c6a664', backgroundColor: 'rgba(198, 166, 100, 0.2)', fill: true, stepped: true }] }, options: { responsive: true, maintainAspectRatio: false } 
            });
            charts.c3pl_rev = new Chart(document.getElementById('c3pl_rev'), { 
                type: 'bar', data: { labels: ['Aug','Sep','Oct','Nov','Dec','Jan','Feb'], datasets: [
                    { label: lexicon[L].l.st, data: [2700, 7200, 8100, 6300, 7200, 9600, 7200], backgroundColor: '#c6a664' },
                    { label: lexicon[L].l.act, data: [2017.5, 5390, 6725, 6375, 8645, 3987, 2749], backgroundColor: '#8e4a2d' }
                ] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { stacked: true } } } 
            });
        }

        function nav(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
            setTimeout(() => { drawAll(curr); }, 200);
        }

        function swap() {
            curr = (curr === 'ar' ? 'en' : 'ar');
            document.getElementById('master').className = curr;
            updateUI();
        }

        function updateUI() {
            const d = lexicon[curr];
            document.getElementById('u-title').innerText = d.t;
            document.getElementById('lbl-up').innerText = d.up;
            for(let i=1; i<=8; i++) document.getElementById('m'+i).innerText = d.m[i-1];
            
            // KPI Mapping
            document.getElementById('k1').innerText = d.k[0]; document.getElementById('k2').innerText = d.k[1];
            document.getElementById('k3').innerText = d.k[2]; document.getElementById('k4').innerText = d.k[3];
            document.getElementById('k5').innerText = d.k[4]; document.getElementById('k6').innerText = d.k[5];
            document.getElementById('k7').innerText = d.k[6];
            document.getElementById('k8-1').innerText = d.k[7]; document.getElementById('k8-2').innerText = d.k[8];
            document.getElementById('k8-3').innerText = d.k[9]; document.getElementById('k8-4').innerText = d.k[10];

            // Content Mapping
            for(let i=1; i<=14; i++) {
                if(i <= 8) { document.getElementById('h'+i).innerText = d.h[i-1]; document.getElementById('ap'+i).innerText = d.p[i-1]; }
                else if(i <= 11) { document.getElementById('h5-'+(i-5)).innerText = d.h[i-1]; document.getElementById('ap5-'+(i-5)).innerText = d.p[i-1]; }
                else if(i <= 12) { document.getElementById('h5-4').innerText = d.h[i-1]; document.getElementById('ap5-4').innerText = d.p[i-1]; }
                else if(i <= 14) { document.getElementById('h8-'+(i-12)).innerText = d.h[i-1]; document.getElementById('ap8-'+(i-12)).innerText = d.p[i-1]; }
            }
            drawAll(curr);
        }
        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
        function toggleAccordion(header) { header.parentElement.classList.toggle('active'); }
        window.onload = updateUI;
    </script>
</body>
</html>
